<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>전화번호 인증</title>
</head>
<body>
<h1>전화번호 인증</h1>
<input type="text" id="tel" placeholder="전화번호를 입력하세요">
<button id="sendCode">인증번호 전송</button>
<input type="text" id="verificationCode" placeholder="인증번호를 입력하세요">
<button id="verifyCode">인증 확인</button>
<p id="result"></p>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function() {
    $("#sendCode").click(function() {
      var tel = $("#tel").val();
      $.ajax({
        type: "POST",
        url: "/auth/phoneAuth",
        data: { tel: tel },
        success: function(response) {
          if (response) {
            $("#result").text("가입된 전화번호입니다.");
          } else {
            $("#result").text("인증번호를 전송했습니다.");
          }
        },
        error: function() {
          $("#result").text("오류가 발생했습니다.");
        }
      });
    });

    $("#verifyCode").click(function() {
      var code = $("#verificationCode").val();
      $.ajax({
        type: "POST",
        url: "/auth/phoneAuthOk",
        data: { code: code },
        success: function(response) {
          if (response) {
            $("#result").text("인증 실패");
          } else {
            $("#result").text("인증 성공");
          }
        },
        error: function() {
          $("#result").text("오류가 발생했습니다.");
        }
      });
    });
  });
</script>
</body>
</html>